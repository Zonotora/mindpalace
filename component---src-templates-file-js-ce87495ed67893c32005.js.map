{"version":3,"sources":["webpack:///./src/templates/file.js"],"names":["TreeHeader","className","name","link","section","children","setPosX","isTabletOrMobile","href","onClick","e","trim","length","ContentTree","header","style","posX","display","justifyContent","flex","width","position","left","onListClick","onTreeViewClick","Slider","onMouseUp","document","removeEventListener","onMouseMove","preventDefault","pageX","window","innerWidth","onMouseDown","button","addEventListener","addSvgAttribute","element","attributes","key","setAttributeNS","Template","data","useState","setHeader","markdownRemark","frontmatter","html","useMediaQuery","query","useEffect","pre","copy","createElement","svg","createElementNS","path","appendChild","stroke","fill","viewBox","height","d","code","getElementsByTagName","onclick","text","textContent","navigator","clipboard","writeText","then","backgroundColor","onmouseleave","setupPreCopy","elements","getElementsByClassName","i","id","split","slice","join","outer","inner","innerHTML","keywords","useLeft","getBoundingClientRect","x","right","removeChild","generateTree","depth","sectionText","root","shift","isRoot","unshift","push","isLast","JSON","parse","stringify","siteTitle","title","parent","slug","substring","lastIndexOf","dangerouslySetInnerHTML","__html"],"mappings":"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","file":"component---src-templates-file-js-ce87495ed67893c32005.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { graphql } from \"gatsby\";\nimport { useMediaQuery } from \"react-responsive\";\nimport Layout from \"components/Layout\";\nimport { FileHeader } from \"components/Header\";\nimport Searchfield from \"components/Searchfield\";\nimport { ListButton } from \"components/Button\";\nimport keywords from \"keywords.json\";\nimport \"katex/dist/katex.min.css\";\nimport \"./template.css\";\nimport \"./syntax.css\";\n\nconst generateTree = (\n  header,\n  setPosX,\n  isTabletOrMobile = false,\n  depth = 1,\n  sectionText = \"\"\n) => {\n  const elements = [];\n  const text = depth !== 1 ? `${sectionText}.` : \"\";\n  let section = 1;\n\n  while (header.length > 0) {\n    const root = header.shift();\n    const isRoot = root.depth === 1 ? \"root\" : \"\";\n\n    // check if current node has a depth which is lesser than current recursion\n    // if that is the case return recursion up to current depth\n    if (root.depth < depth) {\n      header.unshift(root);\n      return elements;\n    }\n\n    // if there are no items left check if it is root (depth==1)\n    if (header.length === 0) {\n      elements.push(\n        <TreeHeader\n          key={root.link}\n          className={`last ${isRoot}`}\n          name={root.name}\n          link={root.link}\n          section={`${text}${section}`}\n          setPosX={setPosX}\n          isTabletOrMobile={isTabletOrMobile}\n        />\n      );\n    }\n    // if next item has a greater depth, generate children nodes\n    else if (header[0].depth > root.depth) {\n      const children = generateTree(\n        header,\n        setPosX,\n        isTabletOrMobile,\n        header[0].depth,\n        `${text}${section}`\n      );\n      const isLast =\n        header.length > 0 && header[0].depth < root.depth ? \"last\" : \"\";\n\n      elements.push(\n        <TreeHeader\n          key={root.link}\n          className={`${isLast} ${isRoot}`}\n          name={root.name}\n          link={root.link}\n          section={`${text}${section}`}\n          children={children}\n          setPosX={setPosX}\n          isTabletOrMobile={isTabletOrMobile}\n        />\n      );\n    }\n    // if next item is equal to current item in depth, add current item (root) to elements\n    else if (header[0].depth === root.depth) {\n      elements.push(\n        <TreeHeader\n          key={root.link}\n          className={isRoot}\n          name={root.name}\n          link={root.link}\n          section={`${text}${section}`}\n          setPosX={setPosX}\n          isTabletOrMobile={isTabletOrMobile}\n        />\n      );\n    }\n    // if next item has a lesser depth, add current item (root) and return elements\n    // because we have reached the end of depth for this node\n    else {\n      elements.push(\n        <TreeHeader\n          key={root.link}\n          className=\"last\"\n          name={root.name}\n          link={root.link}\n          section={`${text}${section}`}\n          setPosX={setPosX}\n          isTabletOrMobile={isTabletOrMobile}\n        />\n      );\n      return elements;\n    }\n    section += 1;\n  }\n  return elements;\n};\n\nconst TreeHeader = ({\n  className = \"\",\n  name,\n  link,\n  section,\n  children = [],\n  setPosX,\n  isTabletOrMobile = false,\n}) => (\n  <li>\n    <a\n      href={`#${link}`}\n      onClick={(e) => {\n        if (isTabletOrMobile) {\n          setPosX(0);\n        }\n      }}\n    >\n      <span className={`node ${className}`.trim()}>\n        <div className=\"node-bar\" />\n        <div className=\"visibility-box\">\n          <p>{section}</p>\n        </div>\n        <div className=\"status\"> </div>\n        <p>{name}</p>\n      </span>\n    </a>\n    {children.length > 0 ? <ul>{children}</ul> : <></>}\n  </li>\n);\n\nconst ContentTree = ({ header, style, posX, setPosX }) => (\n  <>\n    <div className=\"content-tree\" style={style}>\n      <div\n        style={{\n          display: `${posX >= 95 ? \"flex\" : \"\"}`,\n          justifyContent: \"space-evenly\",\n        }}\n      >\n        <Searchfield className=\"file\" style={{ flex: \"1 1 auto\" }} />\n        {posX >= 95 ? (\n          <ListButton\n            style={{\n              width: \"30px\",\n              position: \"relative\",\n              left: \"0px\",\n            }}\n            onListClick={(e) => onTreeViewClick(e, posX, setPosX, false)}\n          />\n        ) : (\n          <></>\n        )}\n      </div>\n\n      <div className=\"content-tree-container\">\n        <ul className=\"content-ul\">{header}</ul>\n      </div>\n    </div>\n  </>\n);\n\nconst Slider = ({ setPosX, style }) => {\n  const onMouseUp = (e) => {\n    document.removeEventListener(\"mouseup\", onMouseUp);\n    document.removeEventListener(\"mousemove\", onMouseMove);\n  };\n\n  const onMouseDown = (e) => {\n    if (e.button === 0) {\n      e.preventDefault();\n      document.addEventListener(\"mouseup\", onMouseUp);\n      document.addEventListener(\"mousemove\", onMouseMove);\n    }\n  };\n\n  const onMouseMove = (e) => {\n    e.preventDefault();\n    setPosX((e.pageX / window.innerWidth) * 100);\n  };\n\n  return <div className=\"slider\" onMouseDown={onMouseDown} style={style} />;\n};\n\nconst onTreeViewClick = (e, posX, setPosX, isTabletOrMobile) => {\n  if (posX < 5) {\n    setPosX(isTabletOrMobile ? 100 : 25);\n  } else {\n    setPosX(0);\n  }\n};\n\nconst addSvgAttribute = (element, attributes) => {\n  for (var key in attributes)\n    element.setAttributeNS(null, key, attributes[key]);\n};\n\nconst setupPreCopy = () => {\n  const pres = document.getElementsByTagName(\"pre\");\n  for (const pre of pres) {\n    const copy = document.createElement(\"div\");\n    const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    svg.appendChild(path);\n    addSvgAttribute(svg, {\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      \"stroke-width\": \"0\",\n      viewBox: \"0 0 1024 1024\",\n      height: \"28px\",\n      width: \"100%\",\n    });\n    addSvgAttribute(path, {\n      d:\n        \"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\",\n    });\n\n    const code = pre.getElementsByTagName(\"code\")[0];\n    copy.onclick = (e) => {\n      const text = code.textContent;\n\n      if (!navigator.clipboard) {\n        copy.style.backgroundColor = \"#db5454\";\n        return;\n      }\n      navigator.clipboard.writeText(text).then(\n        () => {\n          copy.style.backgroundColor = \"#98db54\";\n        },\n        () => {\n          copy.style.backgroundColor = \"#db5454\";\n        }\n      );\n    };\n\n    pre.onmouseleave = (e) => {\n      copy.style.backgroundColor = \"#ddd\";\n    };\n    copy.appendChild(svg);\n    pre.appendChild(copy);\n  }\n};\n\nexport default function Template({ data }) {\n  const [posX, setPosX] = useState(0);\n  const [header, setHeader] = useState([]);\n  const { markdownRemark } = data;\n  const { frontmatter, html } = markdownRemark;\n\n  const isTabletOrMobile = useMediaQuery({ query: \"(max-width: 1224px)\" });\n\n  useEffect(() => {\n    setupPreCopy();\n  }, []);\n\n  useEffect(() => {\n    const elements = document.getElementsByClassName(\"keyword-link\");\n    for (let i = 0; i < elements.length; i++) {\n      const key = elements[i].id.split(\"-\").slice(2).join(\"-\");\n\n      // TODO: use react\n      const outer = document.createElement(\"div\");\n      const inner = document.createElement(\"div\");\n      outer.appendChild(inner);\n      outer.className = \"keyword-popup\";\n      inner.innerHTML = keywords[key];\n\n      elements[i].addEventListener(\"mouseenter\", () => {\n        const useLeft =\n          elements[i].getBoundingClientRect().x < window.innerWidth / 2;\n        outer.style.left = useLeft ? \"0px\" : \"auto\";\n        outer.style.right = !useLeft ? \"0px\" : \"auto\";\n\n        elements[i].appendChild(outer);\n      });\n      elements[i].addEventListener(\"mouseleave\", () => {\n        elements[i].removeChild(outer);\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    setHeader(\n      generateTree(\n        JSON.parse(JSON.stringify(frontmatter.header)),\n        setPosX,\n        isTabletOrMobile\n      )\n    );\n  }, [frontmatter.header, isTabletOrMobile]);\n\n  useEffect(() => {\n    if (isTabletOrMobile) {\n      setPosX(0);\n    } else {\n      setPosX(25);\n    }\n  }, [isTabletOrMobile]);\n\n  return (\n    <Layout>\n      <ContentTree\n        header={header}\n        style={{ width: `${posX}%` }}\n        posX={posX}\n        setPosX={setPosX}\n      />\n      <Slider setPosX={setPosX} style={{ left: `${posX}%` }} />\n      <div\n        className=\"content-container\"\n        style={{ width: `calc(${100 - posX}% - 2px)` }}\n      >\n        <FileHeader\n          siteTitle={frontmatter.title}\n          parent={frontmatter.slug.substring(\n            0,\n            frontmatter.slug.lastIndexOf(\"/\")\n          )}\n          onTreeViewClick={(e) =>\n            onTreeViewClick(e, posX, setPosX, isTabletOrMobile)\n          }\n        />\n        <div className=\"content\">\n          <div dangerouslySetInnerHTML={{ __html: html }} />\n          <footer\n            style={{\n              height: \"50px\",\n            }}\n          />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport const pageQuery = graphql`\n  query($slug: String!) {\n    markdownRemark(frontmatter: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        slug\n        tags\n        lastModified(formatString: \"YYYY-MM-DD\")\n        created(formatString: \"YYYY-MM-DD\")\n        title\n        header {\n          depth\n          name\n          link\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}